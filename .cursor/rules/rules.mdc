---
description: 
globs: 
alwaysApply: true
---
I want to build a Web-Based Document Management and Tracking System using Core PHP, MySQL, and Tailwind CSS. This system is for use in Kenyan county government offices to track the movement and approval of physical documents (invoices, delivery notes, project authorizations, memos, etc.).

Please generate the code for the backend and frontend based on the following features and structure:

🎯 Requirements:
👤 User Management
Login and Registration with secure password hashing

Session-based login

Roles: admin, clerk, supervisor, viewer

Role-based access control (e.g., only supervisors can approve documents)

📄 Document Upload
Upload PDF documents only

Fields: title, type, department, status, uploader, created_at

Store uploaded files in /uploads/ folder

Generate unique document ID automatically

📍 Document Tracking & Movement
Allow moving documents from one department to another

Store movement logs (from_dept, to_dept, who moved it, when)

Create audit trail with timestamps

✅ Approval Workflow
Users with supervisor or admin roles can approve/reject documents

Add optional comments during approval

Change document status after approval

🔍 Search & Dashboard
Search/filter documents by department, title, type, date, status

Admin dashboard showing:

Total uploaded

Approved

Pending

Rejected

In movement

🗂️ Folder Structure
arduino
Copy
Edit
/document-tracker/
│
├── config/
│   └── db.php
│
├── includes/
│   ├── header.php
│   ├── footer.php
│   └── auth.php
│
├── uploads/
│
├── public/
│   ├── login.php
│   ├── register.php
│   ├── dashboard.php
│   ├── upload.php
│   ├── track.php
│   ├── approve.php
│   ├── move.php
│   └── logout.php
│
├── process/
│   ├── login_process.php
│   ├── register_process.php
│   ├── upload_process.php
│   ├── approve_process.php
│   ├── move_process.php
│   └── delete_process.php
🛢️ Database Tables
sql
Copy
Edit
-- users
(id, name, email, password, role, department, created_at)

-- documents
(id, title, file_path, type, department, status, uploaded_by, created_at)

-- document_movements
(id, document_id, from_department, to_department, moved_by, note, moved_at)

-- approvals
(id, document_id, approved_by, comment, approved_at)
📦 What I Need From You:
Core PHP files for:

Login and Register

Document Upload

Document Tracking page

Document Movement form

Approval form

Admin Dashboard

SQL for database tables

Tailwind CSS integration for basic styling (use CDN)

Include comments to help me understand the code

Start by generating the login system, then move on to document upload, and then movement tracking.

